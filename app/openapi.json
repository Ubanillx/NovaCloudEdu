{"openapi":"3.0.1","info":{"title":"NovaCloudEdu API","description":"NovaCloudEdu Smart Education Platform Backend API","license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"Bearer Token":[]}],"tags":[{"name":"系统监控","description":"系统健康检查接口"},{"name":"认证管理","description":"用户认证相关接口"},{"name":"用户管理","description":"用户CRUD管理接口"}],"paths":{"/api/user/profile":{"put":{"tags":["用户管理"],"summary":"更新个人资料","description":"用户更新自己的个人资料","operationId":"updateProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/api/user/admin/update":{"put":{"tags":["用户管理"],"summary":"更新用户","description":"管理员更新用户信息","operationId":"updateUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/api/user/password":{"post":{"tags":["用户管理"],"summary":"修改密码","description":"用户修改自己的密码，需要验证旧密码","operationId":"changePassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/api/user/admin/send-sms":{"post":{"tags":["用户管理"],"summary":"发送短信验证码","description":"管理员手动发送短信验证码","operationId":"sendSms","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendSmsRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseSendResult"}}}}}}},"/api/user/admin/reset-password":{"post":{"tags":["用户管理"],"summary":"重置用户密码","description":"管理员重置指定用户的密码","operationId":"resetPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/api/user/admin/list":{"post":{"tags":["用户管理"],"summary":"分页查询用户","description":"管理员分页查询用户，支持模糊搜索","operationId":"queryUsers","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryUserRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseUserPageResponse"}}}}}}},"/api/user/admin/create":{"post":{"tags":["用户管理"],"summary":"创建用户","description":"管理员创建单个用户","operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseLong"}}}}}}},"/api/user/admin/batch-create":{"post":{"tags":["用户管理"],"summary":"批量创建用户","description":"管理员批量创建用户","operationId":"batchCreateUsers","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchCreateUserRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseListLong"}}}}}}},"/api/user/admin/ban":{"post":{"tags":["用户管理"],"summary":"批量封禁/解封用户","description":"管理员批量封禁或解封用户","operationId":"batchBanUsers","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchBanUserRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseBoolean"}}}}}}},"/api/auth/send-code":{"post":{"tags":["认证管理"],"summary":"发送注册验证码","description":"发送短信验证码用于注册","operationId":"sendRegisterCode","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendCodeRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseSendResult"}}}}}}},"/api/auth/register":{"post":{"tags":["认证管理"],"summary":"用户注册","description":"新用户注册接口，需先获取短信验证码","operationId":"userRegister","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseLong"}}}}}}},"/api/auth/login":{"post":{"tags":["认证管理"],"summary":"用户登录","description":"用户登录并获取 JWT Token","operationId":"userLogin","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLoginRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseLoginUserResponse"}}}}}}},"/api/user/public/{id}":{"get":{"tags":["用户管理"],"summary":"获取用户公开信息","description":"获取其他用户的公开信息（非敏感）","operationId":"getUserPublicInfo","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseUserPublicResponse"}}}}}}},"/api/user/admin/{id}":{"get":{"tags":["用户管理"],"summary":"获取用户详情","description":"管理员获取用户详细信息","operationId":"getUserDetail","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseUserDetailResponse"}}}}}}},"/api/health":{"get":{"tags":["系统监控"],"summary":"健康检查","description":"检查服务是否正常运行","operationId":"health","responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseString"}}}}}}},"/api/auth/current":{"get":{"tags":["认证管理"],"summary":"获取当前用户","description":"获取当前登录用户信息","operationId":"getLoginUser","responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseObject"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BaseResponseLoginUserResponse"}}}}}}}},"components":{"schemas":{"BaseResponseObject":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"object"},"message":{"type":"string"}}},"UpdateProfileRequest":{"type":"object","properties":{"userName":{"type":"string"},"userAvatar":{"type":"string"},"userProfile":{"type":"string"},"userGender":{"type":"integer","format":"int32"},"userPhone":{"type":"string"},"userEmail":{"type":"string"},"userAddress":{"type":"string"},"birthday":{"type":"string","format":"date"}}},"BaseResponseBoolean":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"boolean"},"message":{"type":"string"}}},"UpdateUserRequest":{"required":["id"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userName":{"type":"string"},"userAvatar":{"type":"string"},"userProfile":{"type":"string"},"role":{"type":"string"},"userGender":{"type":"integer","format":"int32"},"userPhone":{"type":"string"},"userEmail":{"type":"string"},"userAddress":{"type":"string"},"birthday":{"type":"string","format":"date"},"level":{"type":"integer","format":"int32"}}},"ChangePasswordRequest":{"required":["confirmPassword","newPassword","oldPassword"],"type":"object","properties":{"oldPassword":{"type":"string"},"newPassword":{"maxLength":20,"minLength":6,"type":"string"},"confirmPassword":{"type":"string"}}},"SendSmsRequest":{"required":["phone"],"type":"object","properties":{"phone":{"pattern":"^1[3-9]\\d{9}$","type":"string"},"code":{"type":"string"},"expireMinutes":{"type":"integer","format":"int32"}}},"BaseResponseSendResult":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/SendResult"},"message":{"type":"string"}}},"SendResult":{"type":"object","properties":{"success":{"type":"boolean"},"requestId":{"type":"string"},"errorMsg":{"type":"string"}}},"ResetPasswordRequest":{"required":["newPassword","userId"],"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"newPassword":{"maxLength":20,"minLength":6,"type":"string"}}},"QueryUserRequest":{"type":"object","properties":{"userName":{"type":"string"},"userAccount":{"type":"string"},"userPhone":{"type":"string"},"userEmail":{"type":"string"},"role":{"type":"string"},"banned":{"type":"boolean"},"pageNum":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"}}},"BaseResponseUserPageResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/UserPageResponse"},"message":{"type":"string"}}},"UserDetailResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userAccount":{"type":"string"},"userName":{"type":"string"},"userAvatar":{"type":"string"},"userProfile":{"type":"string"},"role":{"type":"string"},"userGender":{"type":"integer","format":"int32"},"userPhone":{"type":"string"},"userEmail":{"type":"string"},"userAddress":{"type":"string"},"birthday":{"type":"string","format":"date"},"level":{"type":"integer","format":"int32"},"banned":{"type":"boolean"},"createTime":{"type":"string","format":"date-time"},"updateTime":{"type":"string","format":"date-time"}}},"UserPageResponse":{"type":"object","properties":{"users":{"type":"array","items":{"$ref":"#/components/schemas/UserDetailResponse"}},"total":{"type":"integer","format":"int64"},"pageNum":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"totalPages":{"type":"integer","format":"int32"}}},"CreateUserRequest":{"required":["userAccount","userPassword"],"type":"object","properties":{"userAccount":{"maxLength":20,"minLength":4,"type":"string"},"userPassword":{"maxLength":20,"minLength":6,"type":"string"},"userName":{"type":"string"},"role":{"type":"string"},"userGender":{"type":"integer","format":"int32"},"userPhone":{"type":"string"},"userEmail":{"type":"string"},"userAddress":{"type":"string"},"birthday":{"type":"string","format":"date"}}},"BaseResponseLong":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"integer","format":"int64"},"message":{"type":"string"}}},"BatchCreateUserRequest":{"required":["users"],"type":"object","properties":{"users":{"type":"array","items":{"$ref":"#/components/schemas/CreateUserRequest"}}}},"BaseResponseListLong":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"array","items":{"type":"integer","format":"int64"}},"message":{"type":"string"}}},"BatchBanUserRequest":{"required":["banned","userIds"],"type":"object","properties":{"userIds":{"type":"array","items":{"type":"integer","format":"int64"}},"banned":{"type":"boolean"}}},"SendCodeRequest":{"required":["phone"],"type":"object","properties":{"phone":{"pattern":"^1[3-9]\\d{9}$","type":"string","description":"手机号","example":"18612345678"}},"description":"发送验证码请求"},"UserRegisterRequest":{"required":["checkPassword","phone","smsCode","userAccount","userPassword"],"type":"object","properties":{"userAccount":{"type":"string","description":"用户账号","example":"testuser"},"userPassword":{"type":"string","description":"用户密码","example":"123456"},"checkPassword":{"type":"string","description":"确认密码","example":"123456"},"phone":{"pattern":"^1[3-9]\\d{9}$","type":"string","description":"手机号","example":"18612345678"},"smsCode":{"type":"string","description":"短信验证码","example":"123456"}},"description":"用户注册请求"},"UserLoginRequest":{"required":["userAccount","userPassword"],"type":"object","properties":{"userAccount":{"type":"string","description":"用户账号","example":"testuser"},"userPassword":{"type":"string","description":"用户密码","example":"123456"}},"description":"用户登录请求"},"BaseResponseLoginUserResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/LoginUserResponse"},"message":{"type":"string"}}},"LoginUserResponse":{"type":"object","properties":{"id":{"type":"integer","description":"用户ID","format":"int64"},"userAccount":{"type":"string","description":"用户账号"},"userName":{"type":"string","description":"用户昵称"},"userAvatar":{"type":"string","description":"用户头像"},"userProfile":{"type":"string","description":"用户简介"},"userRole":{"type":"string","description":"用户角色"},"userGender":{"type":"integer","description":"用户性别","format":"int32"},"userPhone":{"type":"string","description":"用户手机"},"userEmail":{"type":"string","description":"用户邮箱"},"level":{"type":"integer","description":"等级","format":"int32"},"createTime":{"type":"string","description":"创建时间","format":"date-time"},"token":{"type":"string","description":"JWT Token"}},"description":"登录用户信息"},"BaseResponseUserPublicResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/UserPublicResponse"},"message":{"type":"string"}}},"UserPublicResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userName":{"type":"string"},"userAvatar":{"type":"string"},"userProfile":{"type":"string"},"role":{"type":"string"},"userGender":{"type":"integer","format":"int32"},"level":{"type":"integer","format":"int32"}}},"BaseResponseUserDetailResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"$ref":"#/components/schemas/UserDetailResponse"},"message":{"type":"string"}}},"BaseResponseString":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"data":{"type":"string"},"message":{"type":"string"}}}},"securitySchemes":{"Bearer Token":{"type":"http","description":"Enter JWT Token (without Bearer prefix)","name":"Bearer Token","scheme":"bearer","bearerFormat":"JWT"}}}}